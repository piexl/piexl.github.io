function musicPlayButton_ani(){requestAnimationFrame(musicPlayButton_ani),musicPlayButton.palying||(musicPlayButton.rotation+=.05),renderer.render(stage)}function gameAimate(){requestAnimationFrame(gameAimate),game_Ani_play(),renderer.render(stage)}function game_Ani_play(){game_time_ani(),qw_ani(),answer_right_ani(),answer_error_ani(),game_bg1_ani(),game_car1_ani(),game_car2_ani(),game_car3_ani(),score_add_ani(),police_ani(),notice_ani(),careatSnow(),game_bg2_ani(),deer_ani(),snow_ani(),game_count+=.2}function game_time_ani(){game_time.ani_change&&(game_time.gameTimeCount+=1/60,game_time.text=game_time.gameTimeCount.toFixed(2)+"s")}function game_bg1_ani(){game_bg1.ani_move&&(game_bg1.position.x-=5*hUnit,game_bg1.position.x<-800*hUnit&&0==gameStep&&(game_bg1.ani_move=!1,qw_Init(),qw1.visible=!0,qw.ani_zoomIn=!0,qw.visible=!0),game_bg1.position.x<-1794*hUnit&&1==gameStep&&(game_bg1.ani_move=!1,qw_Init(),qw1.visible=!1,qw2.visible=!0,qw.ani_zoomIn=!0,qw.visible=!0),game_bg1.position.x<-2398*hUnit&&2==gameStep&&(game_car2.visible=!0,game_car2.ani_moveInLeft=!0),game_bg1.position.x<-3500*hUnit&&3==gameStep&&(careatSnowState=!0),game_bg1.position.x<-4100*hUnit&&3==gameStep&&game_bg1.position.x<-4400*hUnit&&(game_bg1.ani_move=!1,qw_Init(),qw3.visible=!1,qw4.visible=!0,qw.ani_zoomIn=!0,qw.visible=!0),game_bg1.position.x<-4460*hUnit&&4==gameStep&&(careatSnowState=!1),game_bg1.position.x<-5318*hUnit&&4==gameStep&&(game_bg1.ani_move=!1,qw_Init(),qw4.visible=!1,qw5.visible=!0,qw.ani_zoomIn=!0,qw.visible=!0),game_bg1.position.x<-5403*hUnit&&5==gameStep&&(game_bg1.ani_move=!1,game_car1.visible=!1,game_car3.visible=!0,game_car3.ani_moveDown=!0)),game_bg1.ani_fadeOut&&(game_bg1.alpha>0?game_bg1.alpha-=.02:(game_bg1.alpha=0,game_bg1.ani_fadeOut=!1))}function game_bg2_ani(){game_bg2.ani_move&&(game_bg2.position.x-=5*hUnit,game_bg2.position.x<-700*hUnit&&5==gameStep&&(console.log("qw6",game_bg2.position.x,gameStep),game_bg2.ani_move=!1,qw_Init(),qw5.visible=!1,qw6.visible=!0,qw.ani_zoomIn=!0,qw.visible=!0),game_bg2.position.x<-1741*hUnit&&6==gameStep&&(console.log("qw7",game_bg2.position.x,gameStep),game_bg2.ani_move=!1,qw_Init(),qw6.visible=!1,qw7.visible=!0,qw.ani_zoomIn=!0,qw.visible=!0),game_bg2.position.x<-2500*hUnit&&7==gameStep&&(console.log("qw8",game_bg2.position.x,gameStep),game_bg2.ani_move=!1,qw_Init(),qw7.visible=!1,qw8.visible=!0,qw.ani_zoomIn=!0,qw.visible=!0),game_bg2.position.x<-2550*hUnit&&deer.visible&&(console.log("dree",game_bg2.position.x,gameStep),deer.visible=!0,deer.ani_moveInLeft=!0),game_bg2.position.x<-3590*hUnit&&8==gameStep&&(console.log("qw9",game_bg2.position.x,gameStep),game_bg2.ani_move=!1,qw_Init(),qw8.visible=!1,qw9.visible=!0,qw.ani_zoomIn=!0,qw.visible=!0),game_bg2.position.x<-4624*hUnit&&9==gameStep&&(console.log("qw10",game_bg2.position.x,gameStep),game_bg2.ani_move=!1,qw_Init(),qw9.visible=!1,qw10.visible=!0,qw.ani_zoomIn=!0,qw.visible=!0),game_bg2.position.x<-5473*hUnit&&10==gameStep&&(console.log("qw11",game_bg2.position.x,gameStep),game_bg2.ani_move=!1,qw_Init(),qw10.visible=!1,qw11.visible=!0,qw.ani_zoomIn=!0,qw.visible=!0))}function deer_ani(){deer.ani_moveInLeft&&(deer.position.x-=5*hUnit,deer.position.x<464*hUnit&&(game_bg2.ani_move=!1,deer.ani_moveInLeft=!1,deer.play(),setTimeout(function(){deer.gotoAndStop(2),deer.ani_moveOutRight=!0},1e3))),deer.ani_moveOutRight&&(deer.position.x+=8*hUnit,deer.position.x>renderer.width&&(deer.ani_moveOutRight=!1,deer.visible=!1,game_bg2.ani_move=!0))}function qw_ani(){if(qw.ani_zoomIn){var e=.04;qw.scale.x<1&&(qw.scale.x+=e,qw.scale.y+=699*e/648,qw.position.x-=540*e*hUnit,qw.position.y-=650*e*hUnit)}qw.ani_fadeOut&&(qw.alpha>0?qw.alpha-=.02:(qw.alpha=0,qw.ani_fadeOut=!1,answer_right.visible=!1,answer_error.visible=!1))}function answer_right_ani(){answer_right.ani_narrow&&answer_right.ani_narrowState&&(answer_right.scale.x>.42?(answer_right.scale.x-=.04,answer_right.scale.y-=.04):(answer_right.scale.x=.44,answer_right.scale.y=.44,answer_right.ani_narrowState=!1,answer_right.ani_narrow=!1,answer_right.ani_expand=!0)),answer_right.ani_expand&&!answer_right.ani_narrowState&&(answer_right.scale.x<.5?(answer_right.scale.x+=.04,answer_right.scale.y+=.04):(answer_right.scale.x=.5,answer_right.scale.y=.5,answer_right.ani_expand=!1,qw.ani_fadeOut=!0))}function answer_error_ani(){answer_error.ani_narrow&&answer_error.ani_narrowState&&(answer_error.scale.x>.42?(answer_error.scale.x-=.04,answer_error.scale.y-=.04):(answer_error.scale.x=.44,answer_error.scale.y=.44,answer_error.ani_narrowState=!1,answer_error.ani_narrow=!1,answer_error.ani_expand=!0)),answer_error.ani_expand&&!answer_error.ani_narrowState&&(answer_error.scale.x<.5?(answer_error.scale.x+=.04,answer_error.scale.y+=.04):(answer_error.scale.x=.5,answer_error.scale.y=.5,answer_error.ani_expand=!1,qw.ani_fadeOut=!0))}function game_car1_ani(){game_car1.ani_flop&&(game_car1.position.y=game_car1.position.y+.2*Math.sin(game_count)),game_car1.ani_moveInRight&&(game_car1.position.x<88*hUnit?game_car1.position.x+=6*hUnit:(game_car1.ani_moveInRight=!1,game_bg2.ani_move=!0))}function game_car2_ani(){game_car2.ani_flop&&(game_car2.position.y=game_car2.position.y+.2*Math.sin(game_count)),game_car2.ani_moveInLeft&&(game_car2.position.x-=4*hUnit,game_car2.position.x<355*hUnit&&2==gameStep&&(game_car2.ani_moveInLeft=!1,game_bg1.ani_move=!1,qw_Init(),qw2.visible=!1,qw3.visible=!0,qw.ani_zoomIn=!0,qw.visible=!0),game_car2.position.x<-415*hUnit&&3==gameStep&&(game_car2.visible=!1))}function game_car3_ani(){if(game_car3.ani_moveDown){var e=5*hUnit,i=410*e/460;game_car3.position.y<renderer.height+189*hUnit?(game_car3.position.y+=e,game_car3.position.x+=i):(game_car3.ani_moveDown=!1,game_car3.visible=!1,game_bg1.ani_fadeOut=!0,game_bg2.visible=!0,game_car1.position.x=-303*hUnit,game_car1.visible=!0,game_car1.ani_moveInRight=!0)}}function score_add_ani(){score_add.ani_fadeInUp&&(score_add.alpha<.98?score_add.alpha+=.02:(score_add.alpha=1,score_add.ani_fadeInUp=!1,score_add.ani_fmoveDown=!0),score_add.position.y>260*hUnit&&(score_add.position.y-=4*hUnit));var e=3*hUnit;score_add.ani_fmoveDown&&(score_add.position.y<renderer.height-110*hUnit?(score_add.position.x+=e,score_add.position.y+=(renderer.height-110*hUnit-260*hUnit)/(640*hUnit-375*hUnit)*e,score_add.scale.x-=(1-140/239)/265*e,score_add.scale.y-=(1-66/130)/265*e):(score_add.ani_fmoveDown=!1,game_score.text=parseInt(game_score.text)+1,goToNext()))}function police_ani(){police.ani_moveInLeft&&(police.position.x>142*hUnit?police.position.x-=20*hUnit:(police.ani_moveInLeft=!1,police.position.x=142*hUnit,police.play(),setTimeout(function(){police.gotoAndStop(0),police.ani_moveOutLeft=!0},1800),setTimeout(function(){notice.visible=!0,notice.ani_moveUp=!0,notice.ani_narrow=!0},1700))),police.ani_moveOutLeft&&(police.position.x<renderer.width+550*hUnit?police.position.x+=20*hUnit:(police.ani_moveOutLeft=!1,police.position.x=renderer.width+550*hUnit,police.visible=!1))}function notice_ani(){var e=10,i=.325*e/430;notice.ani_moveUp&&(notice.position.y>22*hUnit?notice.position.y-=e*hUnit:(notice.ani_moveUp=!1,notice.position.y=22*hUnit)),notice.ani_narrow&&(notice.scale.x>.175?(notice.scale.x-=i,notice.scale.y-=i):(notice.ani_narrow=!1,notice.scale.x=.175,notice.scale.y=.175,notice.visible=!1,noticeCont.visible=!0,game_points.notice+=1,game_points.text="×"+parseInt(game_points.notice),goToNext()))}function goToNext(){setTimeout(function(){score_add.visible=!1,gameStep<=5?(game_bg1.ani_move=!0,3==gameStep&&(game_car2.ani_moveInLeft=!0)):11==gameStep?(game_time.ani_change=!1,console.log("需要获取排名"),$("#overlayer-result #result_score").html(game_score.text),$("#overlayer-result #result_time").html(game_time.gameTimeCount.toFixed(2)+"s"),$("#overlayer-result #result_notice").html(game_points.notice),$("#overlayer-result").show()):game_bg2.ani_move=!0},500)}function snow_ani(){for(var e=0;e<snowCum;e++)snowArry[e].position.y<860*hUnit?snowArry[e].position.y+=5*hUnit:snowArry[e].visible=!1}var game_count=0;